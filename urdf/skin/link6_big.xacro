<?xml version="1.0"?>

<robot xmlns:xacro="http://ros.org/wiki/xacro">
  
  <!-- Macro definition for link6 skin -->
  <xacro:macro name="link6_skin" params="parent namespace">
    <!-- Properties -->
    <xacro:property name="use_mesh_file" value="true" />
    <xacro:property name="mesh_file" value="package://gentact_descriptions/meshes/skin/self-cap/link6_big.stl" />
    <xacro:property name="mass" value="0.3" /> <!-- [kg] -->
    <xacro:property name="body_width" value="0.3" /> <!-- [m] -->
    <xacro:property name="body_height" value="0.1" /> <!-- [m] -->
    <xacro:property name="sensor_length" value="0.05" /> <!-- [m] -->
    <xacro:property name="sensor_radius" value="0.0" /> <!-- [m] -->

    <!-- Included URDF Files -->
    <xacro:include filename="$(find gentact_descriptions)/urdf/skin/self-cap-base.xacro" />

    <!-- Instantiate dermis once -->
    <xacro:dermis_base_macro
      robot_namespace="${namespace}"
      parent="${parent}"
      mass="${mass}"
      body_width="${body_width}"
      body_height="${body_height}"
      use_mesh_file="${use_mesh_file}"
      mesh_file="${mesh_file}">
      <origin xyz="0 0 0" rpy="-1.57079632679 0 0" />
    </xacro:dermis_base_macro>

    <!-- Instantiate sensors -->
    <xacro:self_cap_sensor
      robot_namespace="${namespace}"
      parent="${namespace}_skin"
      sensor_number="0"
      sensor_radius="${sensor_radius}"
      sensor_length="0.057"
      normal_x="-0.618"
      normal_y="-0.771"
      normal_z="-0.155">
      <origin xyz="-0.0631 -0.0491 -0.0215" rpy="1.726 0.000 -0.676" />
    </xacro:self_cap_sensor>
    <xacro:self_cap_sensor
      robot_namespace="${namespace}"
      parent="${namespace}_skin"
      sensor_number="1"
      sensor_radius="${sensor_radius}"
      sensor_length="0.048"
      normal_x="-0.073"
      normal_y="-0.709"
      normal_z="0.702">
      <origin xyz="-0.0353 -0.0490 0.0221" rpy="0.793 0.000 -0.103" />
    </xacro:self_cap_sensor>
    <xacro:self_cap_sensor
      robot_namespace="${namespace}"
      parent="${namespace}_skin"
      sensor_number="2"
      sensor_radius="${sensor_radius}"
      sensor_length="0.060"
      normal_x="0.993"
      normal_y="-0.117"
      normal_z="0.014">
      <origin xyz="0.0913 -0.0053 -0.0027" rpy="1.557 -0.000 1.454" />
    </xacro:self_cap_sensor>
    <xacro:self_cap_sensor
      robot_namespace="${namespace}"
      parent="${namespace}_skin"
      sensor_number="3"
      sensor_radius="${sensor_radius}"
      sensor_length="0.059"
      normal_x="0.126"
      normal_y="-0.992"
      normal_z="0.008">
      <origin xyz="0.0078 -0.0561 -0.0028" rpy="1.563 -0.000 0.126" />
    </xacro:self_cap_sensor>
    <xacro:self_cap_sensor
      robot_namespace="${namespace}"
      parent="${namespace}_skin"
      sensor_number="4"
      sensor_radius="${sensor_radius}"
      sensor_length="0.059"
      normal_x="0.280"
      normal_y="-0.960"
      normal_z="0.023">
      <origin xyz="0.0575 -0.0444 -0.0024" rpy="1.548 -0.000 0.284" />
    </xacro:self_cap_sensor>
    <xacro:self_cap_sensor
      robot_namespace="${namespace}"
      parent="${namespace}_skin"
      sensor_number="5"
      sensor_radius="${sensor_radius}"
      sensor_length="0.025"
      normal_x="0.055"
      normal_y="0.998"
      normal_z="0.042">
      <origin xyz="0.0466 0.0474 0.0006" rpy="1.529 0.000 3.086" />
    </xacro:self_cap_sensor>
  </xacro:macro>

</robot>